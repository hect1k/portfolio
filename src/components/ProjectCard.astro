---
import { Image } from "astro:assets";

const project = Astro.props.project;
---

<article
  class="move-up flex h-fit flex-col items-stretch overflow-hidden rounded bg-white bg-opacity-20 shadow-lg shadow-black md:flex-row"
>
  {
    project.image && (
      <Image
        src={`/images/projects/${project.image}`}
        alt={project.title}
        width={800}
        height={450}
        format="webp"
        class="aspect-video object-cover md:w-1/3"
      />
    )
  }
  <div class="flex w-full flex-col gap-2 md:w-2/3">
    <div class="flex flex-col justify-evenly gap-4">
      <h2 class="bg-black bg-opacity-50 p-4 text-3xl font-bold">
        {project.title}
      </h2>
      <p class="p-4 py-0 text-2xl font-semibold">
        {project.description}
      </p>
    </div>
    <div class="flex flex-wrap gap-2 p-4 py-2 font-bold italic text-accent">
      {
        project.categories.map((category: string) => (
          <a
            class="hover:underline"
            href={`/projects/${category}`}
            title={`View projects in ${category}`}
          >
            #{category}
          </a>
        ))
      }
    </div>
    <div
      class="flex w-full flex-col gap-6 p-6 md:mt-auto md:flex-row md:items-center md:justify-between md:pr-12"
    >
      <div class="flex gap-4">
        {
          project.url && (
            <a
              href={project.url}
              title={`View demo for ${project.title}`}
              target="_blank"
              class="rounded bg-accent px-4 py-2 font-bold transition-all duration-300 ease-in-out hover:-translate-y-1 hover:scale-105 hover:drop-shadow-xl"
            >
              Demo
            </a>
          )
        }
        {
          project.repo && (
            <a
              href={project.repo}
              title={`View source code for ${project.title}`}
              target="_blank"
              class="rounded bg-black bg-opacity-30 px-4 py-2 font-bold transition-all duration-300 ease-in-out hover:-translate-y-1 hover:scale-105 hover:drop-shadow-xl"
            >
              Github Repo
            </a>
          )
        }
      </div>
      {
        project.blog && (
          <a
            href={`/blog/${project.blog}`}
            title={`Read blog about ${project.title}`}
            class="font-bold text-accent underline transition-all duration-300 ease-in-out hover:translate-x-2"
          >
            Read Blog
          </a>
        )
      }
    </div>
  </div>
</article>
